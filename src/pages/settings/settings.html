<!--
  Generated template for the SettingsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Settings</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <!-- User Details Form 
  <form id="user-profile-form" (ngSubmit)="updateUser()">
    <ion-list no-lines>
      <ion-list-header color="light">
        <ion-label>User Profile</ion-label>
      </ion-list-header>
      <ion-item>
        <ion-label stacked>Name</ion-label>
        <ion-input type="text" placeholder="John Doe" [(ngModel)]="userName" name="name_field"></ion-input>
      </ion-item>
    </ion-list>
  </form>
  <button ion-button id="user-profile-update-button" form="user-profile-form" type="submit">Update</button>
  -->

  <!-- Subscriptions Form -->
  <form id="subscriptions-form" (ngSubmit)="saveSubscriptions()" class="list">
    <ion-list no-lines>
      <ion-item>
        <ion-label>Preferred Line</ion-label>
        <ion-select [(ngModel)]="preferredRoute" name="preferred_line">
          <ion-option *ngFor="let item of routes" value={{item[0]}}>{{item[1]}}</ion-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label>Start Station</ion-label>
        <ion-select [(ngModel)]="startStation" name='start_station' disabled ="{{!hasStations}}">
          <ion-option *ngFor="let item of routeStations">{{item}}</ion-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label>End Station</ion-label>
        <ion-select [(ngModel)]="endStation" name='end_station' disabled ="{{!hasStations}}">
          <ion-option *ngFor="let item of routeStations">{{item}}</ion-option>
        </ion-select>
      </ion-item>

      <ion-grid>
        <ion-row>
          <ion-item>
            <ion-label>Weekdays</ion-label>
            <ion-toggle name='notify_weekdays'></ion-toggle>
          </ion-item>
        </ion-row>
        <ion-row *ngIf='notifyWeekdays'>
          <ion-col col-6>
            <ion-item>
              <ion-label stacked>Start</ion-label>
              <ion-datetime displayFormat="h:mm:A"></ion-datetime>
            </ion-item>
          </ion-col>
          <ion-col col-6>
            <ion-item>
              <ion-label stacked>End</ion-label>
              <ion-datetime displayFormat="h:mm:A"></ion-datetime>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
      
      <ion-grid>
        <ion-row>
          <ion-item>
            <ion-label>Saturday</ion-label>
            <ion-toggle name='notify_saturday'></ion-toggle>
          </ion-item>
        </ion-row>
        <ion-row *ngIf='notifyWeekdays'>
          <ion-col col-6>
            <ion-item>
              <ion-label stacked>Start</ion-label>
              <ion-datetime displayFormat="h:mm:A"></ion-datetime>
            </ion-item>
          </ion-col>
          <ion-col col-6>
            <ion-item>
              <ion-label stacked>End</ion-label>
              <ion-datetime displayFormat="h:mm:A"></ion-datetime>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>

      
      <ion-grid>
        <ion-row>
          <ion-item>
            <ion-label>Sunday</ion-label>
            <ion-toggle name='notify_sunday'></ion-toggle>
          </ion-item>
        </ion-row>
        <ion-row *ngIf='notifySunday'>
          <ion-col col-6>
            <ion-item>
              <ion-label stacked>Start</ion-label>
              <ion-datetime displayFormat="h:mm:A"></ion-datetime>
            </ion-item>
          </ion-col>
          <ion-col col-6>
            <ion-item>
              <ion-label stacked>End</ion-label>
              <ion-datetime displayFormat="h:mm:A"></ion-datetime>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>

      
      <ion-grid>
        <ion-row>
          <ion-item>
            <ion-label>Holiday</ion-label>
            <ion-toggle name='notify_holiday'></ion-toggle>
          </ion-item>
        </ion-row>
        <ion-row *ngIf='notifyHoliday'>
          <ion-col col-6>
            <ion-item>
              <ion-label stacked>Start</ion-label>
              <ion-datetime displayFormat="h:mm:A"></ion-datetime>
            </ion-item>
          </ion-col>
          <ion-col col-6>
            <ion-item>
              <ion-label stacked>End</ion-label>
              <ion-datetime displayFormat="h:mm:A"></ion-datetime>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-list>
  </form>
  <button ion-button id="subscriptions-update-button" form="subscriptions-form" type="submit" block>Update</button>
</ion-content>